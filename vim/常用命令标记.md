# VIM常用命令标记

## 基础按键

- `q`,录制宏
- `w`,一个单词
- `e`,到单词末尾
- `r`,替换一个字符
- `R`,连续替换多个字符
- `t`,到下一个行内查找目标的前一个位置
- `y`,复制
- `u`,撤销
- `U`,撤销整行的修改
- `i`,进入插入模式
- `I`,进入插入模式,在行首
- `o`,进出插入模式,并换新的一行
- `O`,进出插入模式,并换新的一行,在当前行前面
- `p`,粘贴
- `a`,追加进入插入模式
- `A`,追加进入插入模式,在行尾
- `s`,删除当前指向的字符并进入插入模式,相当于`cl`
- `S`,删除当前行,并进入插入模式,相当于`cc`
- `d`,删除
- `f`,行内查找,光标移动到查找到的位置
- `g`,命令组合前缀,与其他字符组合成命令
- `ga`,显示光标所在字符的unicode编码
- `gr`,虚替换,单次替换,处理制表符不会直接完全替换
- `gv`,重选上次的可视区域
- `gR`,虚替换,像`R`一样,不过在替换制表符时,不会将制表符替换为一个字符
- `gu`,将字符转换为小写
- `gU`,将字符转换为大写
- `h`,左移光标
- `j`,下移光标
- `k`,上移光标
- `l`,右移光标
- `z`,根据当前光标位置调整显示内容的位置(就是滚动条变更),方便看后面的内容
- `zz`,根据当前光标位置,调整为正好显示在中间
- `x`,不知道
- `c`,修改并进入插入模式
- `C`,修改并进入插入模式到行尾,相当于`c$`
- `cc`,删除当前行并进入插入模式
- `v`,进入视图模式,单个字符
- `b`,后退一个单词
- `n`,下一个查找目标
- `N`,上一个查找目标
- `m`,不知道
- `:!`,执行命令行命令,例如:`:!ls`,`:!dir`
- `:r 文件名`,将指定文件的内容插入到当前光标位置
- `:r !ls`,将命令结果插入到当前光标位置
- `:w 文件名`,将所有内容或者可视模式选择的内容保存到指定文件中
- `<CTRL-D>`,在输入命令时,`:e`后输入会显示所有相关的命令
- `<TAB>`,在输入命令时,循环选择相关命令
- `;`,重复上次`t`,`f`,`T`,`F`等命令的操作,跳转到下一个位置
- `,`,反向的`t`,`f`,`T`,`F`查找跳转操作
- `<`,缩小缩进
- `>`,增加缩进
- `=`,自动缩进
- `esc`,切换到普通模式
- `ctrl+[`,切换到普通模式,同`esc`
- `ctrl+o`,在插入模式中为临时切换到普通模式,命令执行完成后自动变回插入模式
- `:!+command`,执行系统命令

## motion(动作命令)

- `l`,letter,一个字母
- `w`,word,一个单词(从当前光标开始计算,前面的内容不算)
- `iw`,inner word,一个完整的单词,不包含空格
- `it`,inner tag,一个html标签内的文本,如:`<a>bbb</a>`中的bbb
- `aw`,a word,一个完整的单词,包含空格
- `ap`,a part,一个段落

## 分屏操作整理

1. 打开多个文件并直接分屏
	- `vim -On file1 file2...`
	- `vim -on file1 file2...`
	- `O`标识垂直分隔窗口,`o`标识水平分隔窗口,`n`标识分屏的数量(不写的话,默认为按文件数量分屏)
2. 在vim中打开一个分屏
	- 创建空白分屏
		- `:new`
	- 打开任意文件
		- `:vsplit(vsp) filename`
		- `:split(sp) filename`
	- 打开当前文件(重复开多个文件)
		- `ctrl+w_s(split)`
		- `ctrl+w_v(vsplit)`
3. 关闭分屏
	- 关闭其他所有分屏(不包括自身)
		- `:only`
		- `ctrl+w_o`
	- 关闭当前分屏
		- `:close`
		- `ctrl+w_c(close)`
	- 退出最后一个分屏
		- `ctrl+w_q`
4. 切换分屏
	- 按顺序切换
		- `ctrl+w_w`
	- 倒叙切换
		- `ctrl+w_W`
	- 上下左右切换
		- `ctrl+w_h/j/k/l`
5. 改变分屏尺寸
	- 左
		- `ctrl+w_<`
	- 右
		- `ctrl+w_>`
	- 上
		- `ctrl+w_+`
	- 下
		- `ctrl+w_-`

## 数值加减操作

- 增加
	- `ctrl+a`,从光标处向后搜索,找到第一个数字进行递增1,如果命令前面有数字,则递增该数字
- 减少
	- `ctrl+x`,和增加一样,不过是减法运算

## 特殊说明

- 当一个操作符(`d`,`y`,`c`...)等被连续输入两次时,它的范围就是当前行(`gU`等两个字符的操作符比较特殊,可以写成`gUgU`或`gUU`)

## 插入模式

插入模式也可以执行普通模式的命令

- `ctrl+h`,删除前一个字符,和退格键一样
- `ctrl+w`,删除前一个单词
- `ctrl+u`,删除到行首
- `ctrl+o`,临时切换为`插入-普通`模式,执行完一次普通模式命令后会自动切换回插入模式
- `ctrl+r`,将寄存器的内容插入到光标位置,寄存器内容为使用`y`复制的内容,默认寄存器为0
- `ctrl+v`,按编码插入数据,可以插入特殊符号和unicode编码,如:`ctrl+v_ubf`为`¿ `,`ctrl+v_66`为`B`

## 可视模式

可视模式有3种子模式
进入相应可视模式后
	- 可直接按对应快捷键进入其他类型的可视模式
	- 可直接重复按当前可视模式的快捷键退回到普通模式

- `v`:字符可视模式,可以选中任意范围,适合操作单词或短语
- `V`:行可视模式,整行选择操作
- `ctrl+v`:块可视模式,文档块选择操作

额外操作:

- `gv`:普通模式下,重选上次的高亮区域
- `o`:切换可视模式中光标所在的前后端
- `it`:选择一个html标签内的文本`<a>bbb</a>`中的bbb,不论光标当前早标签中的那个位置

**如果想要做一些可以重复的操作的话,尽量不用可视模式,因为它选择的内容可能不是你想要实现的那样**,对`.`操作符的支持可能和我们想的不一样.
做一系列可重复修改时:
首选操作符+动作命令,其次才是可视模式
可视模式擅长处理动作命令不善于表达的选择范围的操作处理

### 块模式的一些操作

1. `ctrl+v_3j_x`:删除4行中的一列
2. `.`:重复上述操作一次
3. `gv`:重新选择4行中的一列
4. `r|`:将一列内容替换类一列`|`
5. `yyp`:复制一行内容
6. `Vr-`:将一整行替换为`-`

块模式同样可以选择不规则的行尾内容进行批量修改,而按行选择的可视模式就不能.

## 命令行模式

